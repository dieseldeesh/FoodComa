<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>437 Example</title>
		<link rel="stylesheet" type="text/css" href="../css/style.css">
		<script type="text/javascript" src="../js/jquery-1.11.1.min.js"></script>
	</head>
	<body>
		<div class="main">
			<div class="container">
				<div id="loginBlockDiv" class="login">
					<h1>Sign Up</h1>
					<form id="loginForm" action="" method="post"> {% csrf_token %}
						{{ form.as_p}}
						<input type="submit">
<!-- 						<input class="input" type="text" name="andrewid" placeholder="andrewid">
						<input class="input" type="text" name="color" placeholder="color">
						<input class="signin" type="button" name="formType" value="Sign In" onclick="closeAndSubmitForm('loginBlock')">
						<input id="loginBlock" type="submit" name="submit" value="Sign In" style="display:none"> -->
					</form>
				</div>
				<div id="signupBlockDiv" class="signup">
					<h1>Post</h1>
					<form id="registerForm" action="" method="post">
<!-- 						<input class="input" type="text" name="andrewid" placeholder="andrewid">
						<input class="input" type="text" name="color" placeholder="color">
						<input class="signin" type="button" name="formType" value="Register" onclick="closeAndSubmitForm('signupBlock')">
						<input id="signupBlock" type="submit" name="submit" value="Register" style="display:none"> -->
					</form>
				</div>
			</div>
		</div>
		<script type="text/javascript">

			var h1= $("#loginBlockDiv").height();
			var h2= $("#signupBlockDiv").height();
			var submittingForm = false;
			$("#loginBlockDiv").css("height", 55);
			$("#signupBlockDiv").css("height", 55);
			function closeAndSubmitForm(formID) {
				submittingForm= true;
				if($("#loginBlockDiv").height()>55) {
					$("#loginBlockDiv").animate({height:55+'px'});
					$("#loginBlockDiv").promise().done(function(){
						document.getElementById(formID).click();
					});
				}
				if($("#signupBlockDiv").height()>55) {
					$("#signupBlockDiv").animate({height:55+'px'});
					$("#signupBlockDiv").promise().done(function(){
						document.getElementById(formID).click();
					});
				}	
			}
			function changeHeight1() {
				if(!submittingForm) {
					$("#loginBlockDiv").animate({height:h1+'px'});
					$("#signupBlockDiv").animate({height:55+'px'});
				}
			}
			function changeHeight2() {
				if(!submittingForm) {
					$("#loginBlockDiv").animate({height:55+'px'});
					$("#signupBlockDiv").animate({height:h2+'px'});
				}
			}
			$(document).ready(function() {
				$('#loginBlockDiv').on('click', changeHeight1);
				$('#signupBlockDiv').on('click', changeHeight2);
			});	
		</script>
	</body>
</html>